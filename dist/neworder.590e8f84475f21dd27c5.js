(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,r(i.key),i)}}function n(t,e,n){return(e=r(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(e){var n=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!==t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===t(n)?n:String(n)}var i=function(){function t(e,r,i,o){var c=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n(this,"_createCategoryImage",(function(t){var e,n,r;switch(!0){case"icon"===(null===(e=t.icon)||void 0===e?void 0:e.icon_type):return'<span class="'.concat(t.icon.icon,'"></span>');case"emoji"===(null===(n=t.icon)||void 0===n?void 0:n.icon_type):return"<span>".concat(t.icon.icon,"</span>");case"image"===(null===(r=t.icon)||void 0===r?void 0:r.icon_type):return'<img src="'.concat(t.icon.url,'" alt="').concat(t.name,'" class="img-responsive btn-group-vertical">');default:return""}})),n(this,"_renderCategories",(function(t){t.forEach((function(t){c._selector.insertAdjacentHTML("beforeend",c._createCategory(t))}))})),n(this,"_cleanSelector",(function(){c._selector.innerHTML=""})),n(this,"_filterCategories",(function(t){var e=new RegExp("".concat(c._mainCategories),"gi");if(t.match(e)){var n=new RegExp("".concat(t),"gi");return c._categories.filter((function(t){return t.name.match(n)}))}return c._categories.filter((function(t){return!t.name.match(e)}))})),n(this,"_dispatch",(function(){var t=new Event("change",{bubbles:!0});c._selector.dispatchEvent(t)})),n(this,"_toggleActiveBtn",(function(t){var e;null===(e=c._activeBtn)||void 0===e||e.classList.toggle("_active",!1),c._activeBtn=t,t.classList.toggle("_active",!0)})),n(this,"_choiceCategories",(function(t){var e=t.target.closest(c._options.btnSelector);if(e){c._toggleActiveBtn(e);var n=e.dataset.social;c._cleanSelector();var r=c._filterCategories(n);n&&null!=r&&r.length?c._renderCategories(r):c._renderCategories(c._categories),c._dispatch()}})),n(this,"setEventListeners",(function(){c._btns.addEventListener("click",c._choiceCategories)})),this._btns=e,this._selector=r,this._categories=i,this._options=o,this._mainBtns=this._btns.querySelectorAll("[data-social-main]"),this._mainCategories=Array.from(this._mainBtns).map((function(t){return t.dataset.social})).join("|")}var r,i;return r=t,(i=[{key:"_createCategory",value:function(t){return"<option data-icon='".concat(this._createCategoryImage(t),"' value='").concat(t.id,"'>").concat(t.name,"</option>")}}])&&e(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),t}(),o=document.querySelector("select.select_card_type_category"),c=document.querySelector(".platform-btn-container");c&&o&&new i(c,o,categories,{btnSelector:".platform-btn"}).setEventListeners()})();